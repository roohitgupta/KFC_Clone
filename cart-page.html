<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart-Page</title>
    <link rel="stylesheet" href="index_style.css">
   
    
</head>

<body>

    <div class="navbar">
        <div class="left-side-item">
            <a href="index.html" class="headerLogo"><img src="https://online.kfc.co.in/static/media/kfcLogo.492728c6.svg"
                    alt=""></a>
            <a href="KFC_menu.html" class="left-item">Menu</a>
            <a href="KFC_menu.html" class="left-item">Deals</a>

        </div>
        <div class="right-side-item">

            <a id="sign-in" href="signup11.html" class="signin-button">Sign In</a>

            <a href="cart-page.html" class="nav-item-2">₹ 0</a>
        </div>
    </div>



    <div class="header-start-order">
        <div class="header-content">
            <div class="header-text">LET'S ORDER FOR DELIVERY, PICK UP, OR DINE-IN</div>

            <button class="header-order-button">
                Start Order
            </button>

        </div>
    </div>

    <div class="welcome-to-kfc">
        <div class="strips">
            <span class="strip-lines"></span>
            <span class="strip-lines"></span>
            <span class="strip-lines"></span>
        </div>
        <div class="welcome-greeting-text">
            MY CART
        </div>
    </div>

    <div class="container">
        <div class="itemsummary" id="cart-items">
            
           
        </div>
        <div class="pricesummary">
            <div>
                <h3>Order Summary</h3>
            </div>
            <div class="order">
                <p>Total Price</p>
                <p>₹ <span id="total-price"></span></p>
            </div>
            <div class="order">
                <p>Discount</p>
                <p id="Discount">10%</p>
            </div>
            <hr>
            <div class="order">
                <h5>Net Amount</h5>
                <h5>₹ <span id="net-amount"></span></h5>
            </div>
            <div id="TS">
                <h4>Total Saving</h4>
                <h4 id="TotalSaving">₹ <span id="total-savings"></span></h4>
            </div>
            <div>
                <button onclick="location.href='pament-page.html'" id="btn1">
                    <h3>Proceed to Checkout</h3>
                </button>
            </div>
            <div>
                <button onclick="location.href='index.html'" id="btn2">
                    <h3>Add More Meals</h3>
                </button>
            </div>
            
        </div>
    </div>


    
    <!-- footer ---------------------------->

    <div class="footer">
        <a class="kfc-header-logo" href=""><img
                src="https://images.ctfassets.net/wtodlh47qxpt/25FSYFuEtGct8NSrtpKe6d/b602f6fe0bf294e6a6dff5d7648bf594/KFC_Logo.svg"
                alt=""></a>
        <div class="kfc-category-content">
            <div class="row-1">
                <ul>
                    <li>KFC Food</li>
                    <li>Menu</li>
                    <li>Order Lookup</li>
                    <li>Gift Card</li>
                </ul>
            </div>
            <div class="row-2">
                <ul>
                    <li>Support</li>
                    <li>Get Help</li>
                    <li>Contact Us</li>
                    <li>KFC Feedback</li>
                </ul>
            </div>
            <div class="row-3">
                <ul>
                    <li>Legal</li>
                    <li>Terms and Conditions</li>
                    <li>Privacy Policy</li>
                    <li>Disclaimer</li>
                    <li>Caution Notice</li>
                </ul>
            </div>
            <div class="row-4">
                <ul>
                    <li>KFC India</li>
                    <li>About KFC</li>
                    <li>KFC Care</li>
                    <li>Careers</li>
                    <li>Our Golden Past</li>
                </ul>
            </div>
        </div>

        <div class="location-link">
            <a class="location-link-1" href="">Find a KFC </a>
        </div>

        <a class="app-link" href=""><img
                src="https://images.ctfassets.net/wtodlh47qxpt/6BdZsyjLn64c06uCIE73d1/fb530f5d5231533b049463f6c7e8a2b1/google_play.svg"
                alt=""></a>
        <a class="app-link" href=""><img
                src="https://images.ctfassets.net/wtodlh47qxpt/em3mcMuAdXWlgucSJiTbS/d3ae7e51ed101d829e459355e255c47f/apple.svg"
                alt=""></a>



    </div>

    <div class="footer-end">
        <p>Copyright © KFC Corporation 2021 All Rights Reserved</p>
        <div class="social-links">
            <a href=""><img
                    src="https://images.ctfassets.net/wtodlh47qxpt/4ZHyPA2EeaoP3aqtNDriBA/463462a9c27b0aa585e12b21ce3766e0/Social_Insta_White.svg"
                    alt=""></a>
            <a href=""><img
                    src="https://images.ctfassets.net/wtodlh47qxpt/dKiu2meLcfz2DNwsg7nZw/7194830b1ba6f25b158a23d6b2c4752c/Social_Facebook_White.svg"
                    alt=""></a>
            <a href=""><img
                    src="https://images.ctfassets.net/wtodlh47qxpt/78z9x0WwdkdXwGVK726EKX/6599ca34ec88e2a6f46d7d94ed85a8ad/Social_Twitter_White.svg"
                    alt=""></a>
        </div>
    </div>

   


</body>
<script src="helper.js"></script>

<script>
    let cartItems = getCartProducts();
    function generateCartCards (cartItems) {

        let cartItemsHtml = "";
        for (let i=0; i<cartItems.length; i++){
        const item = cartItems[i];
        cartItemsHtml += `
        <div class="row" style="margin-bottom:5px">
            <div>
                <img id="box1" src="${item.image}" height="50px" width="50px" />
                </div>
            <div>
                <h4>Name</h4>
                <p>${item.name}</p>
                </div>
            <div>
                <button id="btn3" onClick="calculateCartPrices(${item.id},'remove')">-</button>
                <p>${item.count}</p>
                <button id="btn3" onclick="calculateCartPrices(${item.id},'add')">+</button>
            </div>
            <div>
                <p>Total : ${Number(item.price)} x ${Number(item.count)} : ${Number(item.price)*Number(item.count)}</p>
            </div>
        </div>`;
    }

    document.getElementById('cart-items').innerHTML = cartItemsHtml;

}

    
    function calculateCartPrices(id=0, state="") {
        if (id!==0){
            if (state == "add"){
                addToCart(id);
            } else if (state == "remove") {
                removeFromCart(id);
            }
        }
        var [total, savings] = calculatePrices();
        document.getElementById("total-price").innerText = total;
        document.getElementById("net-amount").innerText = total - savings;
        document.getElementById("total-savings").innerText = savings;

        let cartItems = getCartProducts();
        generateCartCards(cartItems)
    }
    calculateCartPrices()
    generateCartCards(cartItems)
</script>

</html>
